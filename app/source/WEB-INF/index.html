<!DOCTYPE html>
<html>
<head>
	<title>react</title>
    <meta name="author" content="https://github.com/dengbupapapa">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"/>
    <meta http-equiv="content-Type" content="text/html;charset=utf-8">
    <meta http-equiv="cache-control" content="no-cache">
    <script type="text/javascript">
        // window.onresize=function(){
        //     document.documentElement.style.fontSize = document.documentElement.clientWidth / 7.5 + 'px';
        // }
        // document.documentElement.style.fontSize = document.documentElement.clientWidth / 7.5 + 'px';
        // dpr = window.devicePixelRatio;
        // document.documentElement.setAttribute('data-dpr', dpr);

         function insertAfter(newEl, targetEl) { //在某元素之后插入节点

             var parentEl = targetEl.parentNode;

             if (parentEl.lastChild == targetEl) {
                 parentEl.appendChild(newEl);
             } else {
                 parentEl.insertBefore(newEl, targetEl.nextSibling);
             }

         }



        (function setDprCorrelation(){

            var docEl = document.documentElement;
            var metaAll = document.querySelectorAll('meta');
            var lastMeta = metaAll[metaAll.length-1];
            var dpr = window.devicePixelRatio||1;
            var scale = 1;
            var isAndroid = window.navigator.appVersion.match(/android/gi);
            var isIPhone = window.navigator.appVersion.match(/iphone/gi);

            if (isIPhone) {
                // iOS下
                dpr = Math.floor(dpr);

            } else {
                // 其他设备下，仍旧使用1倍的方案
                dpr = 1;
            }

            scale = 1/dpr;
            docEl.setAttribute('data-dpr', dpr);

            var viewportEl = document.createElement('meta');

            viewportEl.setAttribute('name', 'viewport');
            viewportEl.setAttribute('content', 'width=device-width, initial-scale=' + scale + ', maximum-scale=' + scale + ', minimum-scale=' + scale + ', user-scalable=no');
            insertAfter(viewportEl,lastMeta);

        })();

        (function setDevicePixel(){
            document.documentElement.style.fontSize = document.documentElement.clientWidth / 7.5 + 'px';
            window.addEventListener('resize',setDevicePixel,false);
        })();

    </script>
</head>

<body>
    <div class="container-root" id="Root"></div>
</body>

</html>


